{% block sw_first_run_wizard_modal %}
    <div class="swag-paypal-izettle-wizard">
        <sw-modal v-if="showModal"
                  class="swag-paypal-izettle-wizard-modal"
                  :title="title"
                  :variant="variant"
                  @modal-close="onCloseModal">

            {% block swag_paypal_izettle_wizard_modal_content %}
                <div class="swag-paypal-izettle-wizard-modal-content">
                    <sw-container class="swag-paypal-izettle-wizard-modal-content__columns"
                                  :class="{'one': !showSteps, 'two': showSteps}">

                        {% block swag_paypal_izettle_wizard_modal_content_steps %}
                            <div v-if="showSteps"
                                 class="swag-paypal-izettle-wizard-modal-content__steps">
                                <sw-step-display :initialItemVariants="stepInitialItemVariants"
                                                 :itemIndex="stepIndex"
                                                 :itemVariant="stepVariant">
                                    <sw-step-item v-for="pageName in stepperPages" :key="pageName">
                                        {{ $tc(`swag-paypal-izettle.wizard.stepItemTitle.${pageName}`) }}
                                    </sw-step-item>
                                </sw-step-display>
                            </div>
                        {% endblock %}

                        {% block swag_paypal_izettle_wizard_modal_content_page %}
                            <div class="swag-paypal-izettle-wizard-modal-content__page">
                                <router-view :salesChannel="salesChannel"
                                             :cloneSalesChannelId="cloneSalesChannelId"
                                             :saveSalesChannel="save"
                                             @buttons-update="updateButtons"
                                             @frw-set-title="setTitle"
                                             @frw-finish="finishWizard"
                                             @toggle-loading="toggleLoading"
                                             @recreate-sales-channel="createNewSalesChannel"
                                             @update-clone-sales-channel="updateCloneSalesChannel">
                                </router-view>
                            </div>
                        {% endblock %}
                    </sw-container>
                    </div>
            {% endblock %}

            {% block swag_paypal_izettle_wizard_modal_footer %}
                <template #modal-footer>
                    <div class="swag-paypal-izettle-wizard-modal__footer">

                        {% block swag_paypal_izettle_wizard_modal_footer_left %}
                            <div class="footer-left">
                                <sw-button v-for="button in buttons.left"
                                           size="small"
                                           :key="button.key"
                                           :disabled="button.disabled"
                                           :isLoading="isLoading"
                                           :variant="button.variant"
                                           @click="onButtonClick(button.action)">
                                    {{ button.label }}
                                </sw-button>
                            </div>
                        {% endblock %}

                        {% block swag_paypal_izettle_wizard_modal_footer_right %}
                            <div class="footer-right">
                                <sw-button v-for="button in buttons.right"
                                           size="small"
                                           :key="button.key"
                                           :disabled="button.disabled"
                                           :isLoading="isLoading"
                                           :variant="button.variant"
                                           @click="onButtonClick(button.action)">
                                    {{ button.label }}
                                </sw-button>
                            </div>
                        {% endblock %}
                    </div>
                </template>
            {% endblock %}
        </sw-modal>
    </div>
{% endblock %}

